{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3000';\nexport const login = async () => {\n  window.location.href = `${API_URL}/auth/google`;\n};\nexport const getToken = () => {\n  return localStorage.getItem('token');\n};\nexport const setToken = token => {\n  localStorage.setItem('token', token);\n};\nexport const verifyToken = async () => {\n  const token = getToken();\n  if (!token) return false;\n  try {\n    const response = await fetch('http://localhost:3000/auth/verify-token', {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.valid;\n    }\n  } catch (error) {\n    console.error('Error verifying token:', error);\n  }\n  return false;\n};\nexport const removeToken = () => {\n  localStorage.removeItem('token');\n};\nexport const fetchEvents = async () => {\n  const response = await axios.get(`${API_URL}/events`, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\nexport const createEvent = async event => {\n  const response = await axios.post(`${API_URL}/events`, event, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\nexport const updateEvent = async (id, event) => {\n  const response = await axios.put(`${API_URL}/events/${id}`, event, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\nexport const deleteEvent = async id => {\n  const response = await axios.delete(`${API_URL}/events/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\nexport const attendEvent = async id => {\n  const response = await axios.post(`${API_URL}/events/${id}/attend`, {}, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\nexport const unattendEvent = async id => {\n  const response = await axios.post(`${API_URL}/events/${id}/unattend`, {}, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","login","window","location","href","getToken","localStorage","getItem","setToken","token","setItem","verifyToken","response","fetch","method","headers","ok","data","json","valid","error","console","removeToken","removeItem","fetchEvents","get","Authorization","createEvent","event","post","updateEvent","id","put","deleteEvent","delete","attendEvent","unattendEvent"],"sources":["C:/Users/emman/Downloads/API Project copie/API Project copie/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:3000';\n\nexport const login = async () => {\n  window.location.href = `${API_URL}/auth/google`;\n};\n\nexport const getToken = () => {\n  return localStorage.getItem('token');\n};\n\nexport const setToken = (token) => {\n  localStorage.setItem('token', token);\n};\n\nexport const verifyToken = async () => {\n  const token = getToken();\n  if (!token) return false;\n\n  try {\n    const response = await fetch('http://localhost:3000/auth/verify-token', {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    if (response.ok) {\n      const data = await response.json();\n      return data.valid;\n    }\n  } catch (error) {\n    console.error('Error verifying token:', error);\n  }\n  return false;\n};\n\nexport const removeToken = () => {\n  localStorage.removeItem('token');\n};\n\nexport const fetchEvents = async () => {\n  const response = await axios.get(`${API_URL}/events`, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n\nexport const createEvent = async (event) => {\n  const response = await axios.post(`${API_URL}/events`, event, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n\nexport const updateEvent = async (id, event) => {\n  const response = await axios.put(`${API_URL}/events/${id}`, event, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n\nexport const deleteEvent = async (id) => {\n  const response = await axios.delete(`${API_URL}/events/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n\nexport const attendEvent = async (id) => {\n  const response = await axios.post(`${API_URL}/events/${id}/attend`, {}, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n\nexport const unattendEvent = async (id) => {\n  const response = await axios.post(`${API_URL}/events/${id}/unattend`, {}, {\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    }\n  });\n  return response.data;\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAA,KAAY;EAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAGJ,OAAO,cAAc;AACjD,CAAC;AAED,OAAO,MAAMK,QAAQ,GAAGA,CAAA,KAAM;EAC5B,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EACjCH,YAAY,CAACI,OAAO,CAAC,OAAO,EAAED,KAAK,CAAC;AACtC,CAAC;AAED,OAAO,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,MAAMF,KAAK,GAAGJ,QAAQ,CAAC,CAAC;EACxB,IAAI,CAACI,KAAK,EAAE,OAAO,KAAK;EAExB,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;MACtEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,eAAe,EAAE,UAAUN,KAAK;MAClC;IACF,CAAC,CAAC;IAEF,IAAIG,QAAQ,CAACI,EAAE,EAAE;MACf,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI,CAACE,KAAK;IACnB;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;EAChD;EACA,OAAO,KAAK;AACd,CAAC;AAED,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAM;EAC/BhB,YAAY,CAACiB,UAAU,CAAC,OAAO,CAAC;AAClC,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,MAAMZ,QAAQ,GAAG,MAAMb,KAAK,CAAC0B,GAAG,CAAC,GAAGzB,OAAO,SAAS,EAAE;IACpDe,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMU,WAAW,GAAG,MAAOC,KAAK,IAAK;EAC1C,MAAMhB,QAAQ,GAAG,MAAMb,KAAK,CAAC8B,IAAI,CAAC,GAAG7B,OAAO,SAAS,EAAE4B,KAAK,EAAE;IAC5Db,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMa,WAAW,GAAG,MAAAA,CAAOC,EAAE,EAAEH,KAAK,KAAK;EAC9C,MAAMhB,QAAQ,GAAG,MAAMb,KAAK,CAACiC,GAAG,CAAC,GAAGhC,OAAO,WAAW+B,EAAE,EAAE,EAAEH,KAAK,EAAE;IACjEb,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMgB,WAAW,GAAG,MAAOF,EAAE,IAAK;EACvC,MAAMnB,QAAQ,GAAG,MAAMb,KAAK,CAACmC,MAAM,CAAC,GAAGlC,OAAO,WAAW+B,EAAE,EAAE,EAAE;IAC7DhB,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMkB,WAAW,GAAG,MAAOJ,EAAE,IAAK;EACvC,MAAMnB,QAAQ,GAAG,MAAMb,KAAK,CAAC8B,IAAI,CAAC,GAAG7B,OAAO,WAAW+B,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE;IACtEhB,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAG,MAAOL,EAAE,IAAK;EACzC,MAAMnB,QAAQ,GAAG,MAAMb,KAAK,CAAC8B,IAAI,CAAC,GAAG7B,OAAO,WAAW+B,EAAE,WAAW,EAAE,CAAC,CAAC,EAAE;IACxEhB,OAAO,EAAE;MACPW,aAAa,EAAE,UAAUrB,QAAQ,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF,OAAOO,QAAQ,CAACK,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}